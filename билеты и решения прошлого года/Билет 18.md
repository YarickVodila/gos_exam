# Билет №18

## 1. Синхронизация процессов и потоков. Понятие процесса в операционных системах.

**Операционная система** – комплекс программ, обеспечивающй взаимодействие всех устройств ЭВМ и позволяющий поользователю осуществлять управление ЭВМ.

> ОС – посредник между пользователем, программами и оборудованием компа.

**Главное назначение ОС** – управление ресурсами, главными из которых является аппаратура компьютера. ОС управляет вычислительным процессом и информационным обменом между процессором, памятью, внешними устройствами.

**Процесс** – выполняемая системой программа (экземпляр программы). В контексте ядра ОС, процесс представляет собой структуру данных из элементов:

- PID процесса – уникальный идентификатор процесса в ОС;
- Список открытых файловых дескрипторов (потоков ввода-вывода для чения-записи файлов);
- Обработчик сигналов – программное прерывание процесса;
- Текущий рабочий каталог и переменные окружения, с которыми запущен процесс.

В современных ОС всегда есть **подсистема управления процессами** – она планирует выполнение процессов (распределяет процессорное время между одновременно существующими процессами, и контролирует их синхронизацию и взаимодействие).

Для выполнения процесса, ОС должна выделить ему некоторый объём ОЗУ, а также предоставить необходимое количество процессорного времени.

**Синхронизация процессов** – это задача координации выполнения процессов таким образом, чтобы никакие два процесса не могли иметь доступ к одним и тем же общим данным и ресурсам.

У процесса есть три основных состояния:

1. **Выполнение**. Активное состояние процесса, когда он выполняется процессором.
2. **Ожидание**. Пассивное состояние процесса, когда он заблокирован и ждёт выполнения некоего события.
3. **Готовность**. Пассивное состояние процесса, когда он заблокирован из-за неготовности процессора выполнять этот процесс (например, когда он уже выполняет что-то).

Процесс может создавать **потоки**, представляющие собой последовательность инструкций на выполнение. Любой процесс имеет хотя бы один поток – главный поток.

> Главное отличие потоков от процессов – каждый процесс выполняется в отдельном адресном пространстве и не может получить доступ к пространству другого процесса, а потоки используют общее пространство своего процесса и могут совместно использовать данные своих состояний.

Практически всегда, потоков гораздо больше чем физических процессоров для их выполнения. Поэтому, потоки выполняются не одновременно, а по очереди – переключение между ними происходит так часто, что кажется что они выполняются параллельно. Однако, из-за этого, процессы и потоки нужно как-то синхронизировать.

> Синхронизация потоков необходима для исключения гонок и тупиков при обмене данными между потоками, разделении данных, при доступе к процессору и устройствам ввода-вывода.

Синхронизация потоков и процессов заключается в согласовании их скоростей путём приостановки потока до наступления некоторого события и последующей его активизации при наступлении этого события.

## 2. Администрирование баз данных. Права доступа пользователей к данным (язык SQL).

**База данных** – упорядоченный набор структурированной информации или данных, которые обычно хранятся в электронном виде в компьютерной системе.

**База данных** – имеющая название совокупность данных, которая отражает состояние объектов и их отношений в рассматриваемой предметной области.

Базы данных бывают разными: **иерархическими** (древовидная структура), **сетевыми** (графовидная структура) и **реляционными** (табличное представление данных).

**SQL** – это язык структурированных запросов (Structured Query Language), позволяющий хранить, манипулировать и извлекать данные из реляционных баз данных. Он предназначен только для взаимодействия с базами данных.

Базы данных предполагают взаимодействие с ними пользователей. Осуществляется оно не напрямую, а посредством некой **СУБД** (системы управления базами данных). Однако, СУБД могут быть большими и включать в себя много пользователей. Как-то нужно разграничить весь этот бардак.

> **Администрирование базы данных** – это функция управления базой данных.

Администрирование баз данных предусматривает выполнение функций, направленных на обеспечение надежного и эффективного функционирования системы баз данных, адекватности содержания базы данных информационным потребностям пользователей, отображения в базе данных актуального состояния предметной области.

В общем случае, задачи администратора баз данных следующие:

- Создание резервных копий файлов;
- Периодическое сжатие файлов (для баз данных);
- Защита файлов средствами шифрования (для баз данных);
- Изменение пароля для открытия файла (для баз данных);
- Управление учетными записями и правами доступа для приложений, защищённых на уровне пользователей.

Существенной особенностью языка SQL является встроенное обеспечение защиты доступа к данным. К любому отношению в БД и к любому столбцу, вводится предопределённый набор **привилегий** (прав).

> **Привелегии** – атомарные полномочия.
> **Роли** – группы полномочий.

В языке SQL не существует единственной стандартной команды, предназначенной для создания пользователей базы данных – в каждой реализации они представлены с незначительными отличиями.

Однако, стандартом SQL определяется следующий ряд прав:

- `SELECT` – право выбирать данные из таблицы;
- `INSERT` – право вставлять в таблицу новые строки;
- `UPDATE` – право изменять данные в таблице;
- `DELETE` – право удалять строки из таблицы;
- `REFERENCES` – право ссылаться на столбцы указанной таблицы в описаниях требований поддержки целостности данных;
- `USAGE` – право использовать домены, проверки и наборы символов.

Например, на SQL Server, выдача прав может быть такой:

```sql
Use MyDateBase
CREATE LOGIN Demologin WITH PASSWORD = 'P@ssw0rd!23'
USE [AdventureWorks2017];
CREATE USER Demologin FROM LOGIN Demologin;
GRANT CONTROL ON SCHEMA::Person TO Demologin;
```

> Пользователю Demologin выдаются права на управление схемой базы данных.

## 3. Преобразуйте выражение ((a+b)+c\*(d+e)+f)\*(g+h) в постфиксную форму

Алгебраическое выражение можно записать в трёх формах: инфиксной, префиксной и постфиксной.

**Инфиксная форма**. Выражение, где операторы находятся **между** операторами.

> $2+2=4$

**Постфиксная форма**. Выражение, где операторы находятся **после** операторов.

> $2\;2+=4$

Исходное выражение записано в инфиксной форме.

>$((A+B)+C*(D+E)+F)*(G+H)$

Для наглядности, сначала нужно построить дерево для исходной формы:

1. Подписываем над выражением порядок операций;
2. Корнем дерева делаем операцию №1;
3. Фигачим в качестве узлов подписанные операторы, но в обратном порядке. К операторам добавляем потомков – аргументы операции. Если вместо аргумента идёт операция, фигачим её оператор и продолжаем пункт №3.

<p style="text-align: center;"><img src="https://drive.google.com/uc?export=view&id=1n6WrJgQjjI4qT6XJnGcRUxvH1-QSbxgZ" style=" zoom: 40%;"><b><p style="text-align: center;">Префиксное дэрево</p></b></p>

Постфиксная форма составляется через BFS (обход в ширину).

**Метод обхода графа в ширину** или `BFS` – обход графа "как можно шире".

> Круги, от упавшего в воду камня, огибают препятствия при распространении.

**BFS распространяется по соседям в поисках цели, реализуется очередью.**

## 4. Задача

Составьте блок-схему и напишите программу. Ввести строку символов, состоящую из букв русского и латинского алфавита и пробелов. Вычислить и вывести на экран количество слов в строке (символы до пробела считаются словом).

****

#### **Пафосное решение:**

```python
s = 'Ввести строку символов состоящую из букв русского и латинского алфавита и пробелов'
s = s.split()
for word in s:
    print(f'"{word}"')
print()
print(len(s))
```

#### **Решение 71-х:**

```python
string = input("Введите строку: ")
string = string.split(" ")

count = 0
for s in string:
    s = s.replace(",", "")
    if s != None and s != "":
        count += 1
print('кол-во слов: ', count)
```